---
title: "AnimalGame-Descriptives-Check"
author: "Bria Long"
date: "2/5/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(knitr)
library(assertthat)
```

## Import descriptives csv
```{r cars}
d <- read.csv("animalgame_v1_out_test.csv") %>%
  as.tibble() 
```

### Look at counts by producer_age and category
```{r cat-by-condition-by-age}

d %>%
  group_by(producer_age,intended_category) %>%
  summarize(num_drawings = n()) %>%
  kable()
```

### Look at counts by individual sketch; should be low at first and randomly distributed
```{r cat-by-condition-by-age}

guess_by_sketch <- d %>%
  filter(producer_age != 'photo') %>% ## exclude catch trials
  group_by(sketch_path) %>%
  summarize(num_guesses = n()) 
  # kable()
```
```{r}
bad_subs <- d %>%
  group_by(sessionId) %>%
  filter(producer_age == "photo") %>%
  mutate(correct_or_not = (clicked_category == intended_category)) %>%
  summarize(avg_photo_correct = mean(correct_or_not)) %>%
  filter(avg_photo_correct < .5)

```
## Look at avg correct by producer age (photo = ceiling)
```{r plot-counts}
# need to have dont_know as level even though it is never presnet for mutate fuction
levels(d$intended_category)<-c("bird",   "dog" ,   "fish"   ,"rabbit", "dont_know")

# summarize avg correct by producer age  
d %>%
  filter(recognizer_age!= 'adult') %>%
  filter(!sessionId %in% bad_subs$sessionId) %>%
  mutate(correct_or_not = (clicked_category == intended_category)) %>%
  group_by(producer_age) %>%
  summarize(avg_correct = mean(correct_or_not))


```
```